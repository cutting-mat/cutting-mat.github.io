<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>路由结构 | CuttingMat</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/logo.png">
    <script src="/assets/js/baidu.js"></script>
    <meta name="description" content="面向大中型项目的开发脚手架，助你的Vue项目一臂之力">
    <meta name="keywords" content="CuttingMat,Vue框架,Vue模板,前端模板,Vue项目模板">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/assets/css/0.styles.d95d5376.css" as="style"><link rel="preload" href="/assets/js/app.b0eab2ee.js" as="script"><link rel="preload" href="/assets/js/2.bdcb5a66.js" as="script"><link rel="preload" href="/assets/js/25.2b3efa3c.js" as="script"><link rel="prefetch" href="/assets/js/10.865c0741.js"><link rel="prefetch" href="/assets/js/11.ee07c495.js"><link rel="prefetch" href="/assets/js/12.0fe5505a.js"><link rel="prefetch" href="/assets/js/13.fe5b7847.js"><link rel="prefetch" href="/assets/js/14.f4cf0482.js"><link rel="prefetch" href="/assets/js/15.f94f31ec.js"><link rel="prefetch" href="/assets/js/16.7af15af6.js"><link rel="prefetch" href="/assets/js/17.ce07e663.js"><link rel="prefetch" href="/assets/js/18.e3cf87f2.js"><link rel="prefetch" href="/assets/js/19.0f77246c.js"><link rel="prefetch" href="/assets/js/20.8807b757.js"><link rel="prefetch" href="/assets/js/21.110b5dac.js"><link rel="prefetch" href="/assets/js/22.f1ef5f3e.js"><link rel="prefetch" href="/assets/js/23.7c19bc52.js"><link rel="prefetch" href="/assets/js/24.d08307d1.js"><link rel="prefetch" href="/assets/js/3.fc4061f6.js"><link rel="prefetch" href="/assets/js/4.60ba27b5.js"><link rel="prefetch" href="/assets/js/5.cc2b0060.js"><link rel="prefetch" href="/assets/js/6.fe0bbd6a.js"><link rel="prefetch" href="/assets/js/7.062f41c8.js"><link rel="prefetch" href="/assets/js/8.af6461b8.js"><link rel="prefetch" href="/assets/js/9.f5751f4a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d95d5376.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="CuttingMat" class="logo"> <span class="site-name can-hide">CuttingMat</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/guide/about.html" class="nav-link">
  指南
</a></div><div class="nav-item"><a href="/function/core/" class="nav-link">
  功能
</a></div><div class="nav-item"><a href="http://cutting-mat.refined-x.com/template-element-ui/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  演示
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="插件" class="dropdown-title"><span class="title">插件</span> <span class="arrow down"></span></button> <button type="button" aria-label="插件" class="mobile-dropdown-title"><span class="title">插件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="http://cutting-mat.refined-x.com/axios/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  @cutting-mat/axios
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="http://cutting-mat.refined-x.com/vue-store/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  @cutting-mat/vue-store
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="http://cutting-mat.refined-x.com/el-upload/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  @cutting-mat/uploader
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="http://cutting-mat.refined-x.com/animater/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  @cutting-mat/animater
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <a href="https://github.com/cutting-mat" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/guide/about.html" class="nav-link">
  指南
</a></div><div class="nav-item"><a href="/function/core/" class="nav-link">
  功能
</a></div><div class="nav-item"><a href="http://cutting-mat.refined-x.com/template-element-ui/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  演示
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="插件" class="dropdown-title"><span class="title">插件</span> <span class="arrow down"></span></button> <button type="button" aria-label="插件" class="mobile-dropdown-title"><span class="title">插件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="http://cutting-mat.refined-x.com/axios/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  @cutting-mat/axios
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="http://cutting-mat.refined-x.com/vue-store/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  @cutting-mat/vue-store
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="http://cutting-mat.refined-x.com/el-upload/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  @cutting-mat/uploader
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="http://cutting-mat.refined-x.com/animater/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  @cutting-mat/animater
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <a href="https://github.com/cutting-mat" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>介绍</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/about.html" class="sidebar-link">CuttingMat</a></li><li><a href="/guide/getting-started.html" class="sidebar-link">快速开始</a></li><li><a href="/guide/community.html" class="sidebar-link">社区</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>指南</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/intro-catalogue.html" class="sidebar-link">目录结构</a></li><li><a href="/guide/intro-routes.html" aria-current="page" class="active sidebar-link">路由结构</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/intro-routes.html#路由配置" class="sidebar-link">路由配置</a></li><li class="sidebar-sub-header"><a href="/guide/intro-routes.html#访问控制" class="sidebar-link">访问控制</a></li><li class="sidebar-sub-header"><a href="/guide/intro-routes.html#动态菜单" class="sidebar-link">动态菜单</a></li><li class="sidebar-sub-header"><a href="/guide/intro-routes.html#动态模板" class="sidebar-link">动态模板</a></li></ul></li><li><a href="/guide/intro-code.html" class="sidebar-link">代码组织</a></li><li><a href="/guide/icon.html" class="sidebar-link">字体图标</a></li><li><a href="/guide/guide-config.html" class="sidebar-link">配置参考</a></li><li><a href="/guide/appointment-dev.html" class="sidebar-link">前后端开发约定</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="路由结构"><a href="#路由结构" class="header-anchor">#</a> 路由结构</h1> <h2 id="路由配置"><a href="#路由配置" class="header-anchor">#</a> 路由配置</h2> <p>从访问控制的角度，框架将路由分成<strong>主路由与旁路路由</strong>两类。</p> <p>以模板默认路由为例，主模块和两个内置业务模块的路由结构如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 主模块路由（@/main/index.js）</span>
<span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'首页'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">component</span><span class="token operator">:</span> index
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/login'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'登录'</span><span class="token punctuation">,</span>
        <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'./views/Login.vue'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> resolve<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/500'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'服务异常'</span><span class="token punctuation">,</span>
        <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'./views/500.vue'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> resolve<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/404'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'找不到页面'</span><span class="token punctuation">,</span>
        <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'./views/404.vue'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> resolve<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
<span class="token comment">// 业务模块路由（@/system/index.js）</span>
<span class="token punctuation">[</span><span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/system'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'系统设置'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'Profile'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'个人信息'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'Password'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'修改密码'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'Dict'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'字典管理'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token comment">// 业务模块路由（@/user/index.js）</span>
<span class="token punctuation">[</span><span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/user'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'用户管理'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'Account'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'账号管理'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'Organization'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'组织管理'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'Role'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'角色管理'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'Resource'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'资源管理'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br></div></div><p>主路由与旁路路由都是在路由配置文件（<code>@/route.config.js</code>）中定义的，所有的模块路由都将在此引入，并自由组合，只要最终对外输出<code>MainRoute</code>（主路由）和<code>BypassRoute</code>（旁路路由）两个路由数组即可。</p> <p>以模板默认路由配置为例，将主模块里的首页和两个业务模块组成主路由，主模块除首页外的其他页面被划归为旁路路由，配置如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>
<span class="token comment">// 主模块</span>
<span class="token keyword">import</span> main <span class="token keyword">from</span> <span class="token string">'@/main/index'</span>

<span class="token comment">// 业务模块</span>
<span class="token keyword">import</span> system <span class="token keyword">from</span> <span class="token string">'@/system'</span>
<span class="token keyword">import</span> user <span class="token keyword">from</span> <span class="token string">'@/user'</span>


<span class="token comment">// 主路由</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> MainRoute <span class="token operator">=</span> <span class="token punctuation">[</span>Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> main<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token operator">...</span>system<span class="token punctuation">,</span>
        <span class="token operator">...</span>user<span class="token punctuation">,</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// 旁路路由</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> BypassRoute <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token operator">...</span>main<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>框架会自动将主路由和旁路路由组成最终完整的路由数据：</p> <p><img src="/assets/img/%E8%B7%AF%E7%94%B1%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1.png" alt="路由结构设计"></p> <p>对于主路由和旁路路由的数据结构没有任何限制，可以根据需要任意组织。除了像模板默认路由这样将业务模块挂载为首页子路由外，还可以让业务模块与首页路由平级成为<strong>顶级业务模块</strong>（如图中 Module3），或者直接将整个模块定义为<strong>旁路业务模块</strong>（如图中 Module4）。</p> <h2 id="访问控制"><a href="#访问控制" class="header-anchor">#</a> 访问控制</h2> <p>主路由与旁路路由是从访问控制的角度延申出的概念，所谓旁路是指不受访问限制的区域，而主路自然就是被访问控制系统所覆盖的区域。</p> <p>框架内置权限模块(<code>permissioon</code>)可以实现基于用户登录状态的<strong>用户鉴权</strong>，和可选的基于用户角色实现的访问<strong>权限控制</strong>。</p> <p>开启权限模块后只有已登录用户可以访问主路由，未登录用户只能访问旁路路由。如果同时开启权限控制，路由控制也只对主路由生效，旁路路由无需权限即可访问。</p> <p>路由实例初始只会加载旁路路由，框架会根据是否开启权限控制决定是全量加载主路由，还是根据权限数据筛选主路由后再动态添加路由。</p> <p><img src="/assets/img/%E8%B7%AF%E7%94%B1%E5%8A%A0%E8%BD%BD%E6%B5%81%E7%A8%8B.png" alt="路由加载流程"></p> <p>对于企业官网这类完全公开访问的站点，整个权限模块(<code>permissioon</code>)都不会启动，那就需要将所有路由都定义为旁路路由，使其随路由实例初始化一起加载。</p> <p>详见<a href="">权限管理</a></p> <h2 id="动态菜单"><a href="#动态菜单" class="header-anchor">#</a> 动态菜单</h2> <p>路由数据通常也用来实现导航菜单，如果不开启权限控制（<code>access-control</code>），路由配置中的<code>MainRoute</code>（主路由）和<code>BypassRoute</code>（旁路路由）也可以作为数据源，通过调整模块顺序和路由<code>meta</code>信息，基本可以实现任意导航效果。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 路由数据用于实现导航菜单</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> MainRoute <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/route.config&quot;</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>开启权限控制（<code>access-control</code>）的情况下，导航菜单应该随当前用户的权限而动态变化，因此不能直接拿静态的路由数据实现导航菜单，此时在权限功能配置（<code>@/plugin.permission.config.js</code>）中定义<code>AfterGetDynamicRoute()</code>方法，在回调中获取动态路由，再用于实现动态菜单或其他业务场景。</p> <p>例如模板默认<code>@/plugin.permission.config.js</code>文件中定义的<code>AfterGetDynamicRoute</code>方法，会将动态路由存入$store：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// @/plugin.permission.config.js</span>
<span class="token operator">...</span>
<span class="token comment">// 获取路由权限后回调</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">AfterGetDynamicRoute</span> <span class="token operator">=</span> <span class="token parameter">routes</span> <span class="token operator">=&gt;</span> Vue<span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;DynamicRoute&quot;</span><span class="token punctuation">,</span> routes<span class="token punctuation">)</span><span class="token punctuation">;</span>


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="动态模板"><a href="#动态模板" class="header-anchor">#</a> 动态模板</h2> <p>通常一个站点的所有页面都会采用相同的页面基础布局，比如相同的头部、底部样式，只要将所有页面都挂载为首页子路由，利用<a href="https://router.vuejs.org/zh/guide/essentials/nested-routes.html" target="_blank" rel="noopener noreferrer">嵌套路由<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>可以很容易实现整站框架模板复用，但如果个别业务模块希望脱离主模板实现独立的界面风格，可以通过以下两种方法实现。</p> <p>一、将模块定义为顶级业务模块，即可脱离嵌套路由限制。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 主路由</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> MainRoute <span class="token operator">=</span> <span class="token punctuation">[</span>
    Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> main<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token operator">...</span>system<span class="token punctuation">,</span>
            <span class="token operator">...</span>user<span class="token punctuation">,</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token operator">...</span>TopLevelModule   <span class="token comment">// 顶级业务模块</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>二、在首页（<code>/</code>）中定义多套模板，并根据访问路由动态切换模板。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> data<span class="token operator">-</span>v 模板 <span class="token operator">--</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>LayoutBlank v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;$route.path.indexOf('/data-v') === 0&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 默认模板 <span class="token operator">--</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>LayoutMain v<span class="token operator">-</span><span class="token keyword">else</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>实际应用中可以自由选择两种方法实现动态模板。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/guide/intro-catalogue.html" class="prev">
        目录结构
      </a></span> <span class="next"><a href="/guide/intro-code.html">
        代码组织
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.b0eab2ee.js" defer></script><script src="/assets/js/2.bdcb5a66.js" defer></script><script src="/assets/js/25.2b3efa3c.js" defer></script>
  </body>
</html>
